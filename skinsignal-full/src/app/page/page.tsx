"use client";
import {useState} from "react";
export default function Home(){const[s,setS]=useState("");const[log,setLog]=useState("");const[busy,setBusy]=useState(false);async function go(){setBusy(true);setLog("");try{const r=await fetch("/api/portfolio/snapshot",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({steamId:s})});const j=await r.json();setLog(JSON.stringify(j,null,2));}catch(e:any){setLog(String(e?.message||e))}finally{setBusy(false)}}return(<main className="max-w-3xl mx-auto p-6 space-y-4"><h1 className="text-3xl font-bold">SkinSignal</h1><input value={s} onChange={e=>setS(e.target.value)} placeholder="SteamID64 (17 digits)" className="w-full rounded bg-neutral-900 border border-neutral-800 p-3"/><button onClick={go} disabled={busy} className="px-3 py-2 bg-teal-600 rounded">{busy?"Working...":"Snapshot Now"}</button><pre className="bg-neutral-900 border border-neutral-800 rounded p-3 text-xs overflow-auto">{log||"Output..."}</pre></main>)}
